---
layout: post
title: Phyloreferencing team attends Phenoscape Hackathon
author: gyzhang
modified:
excerpt: Gaurav and Guanyang attended a four-day hackathon at Duke University.
tags: ["meeting"]
published: false
comments: true
image:
  feature: 2017-10-project-meeting/2ndmeeting.whiteboard3.JPG
  teaser: 2017-10-project-meeting/2ndmeeting.whiteboard3.JPG
  thumb: 2017-10-project-meeting/2ndmeeting.whiteboard3.JPG
---

<a href="url"><img src="https://github.com/phyloref/phyloref.github.io/blob/master/images/blog.pheno.group.jpg" alt="Participants of the Phenoscape Hackathon" align="right" height="384" width="288" ></a> 
Gaurav and Guanyang attended a the Phenoscape Knowledgebase Hackathon hosted by Duke University. The Hackathon was named ["Promoting Phenoscape KB Data Access and Interoperability Codefest, 2017"](https://github.com/phenoscape/KB-DataFest-2017). It was sponsored by [Phenoscape](http://phenoscape.org/), which is an informatics project that aims to  "create a scalable infrastructure that enables linking phenotypes across different fields of biology by the semantic similarity of their descriptions". The [goal](https://hackmd.io/s/Sk6Xa7Eq-#) of this Hackathon was to "bring together a diverse group of people to collaboratively design and work hands-on on targets of their interest that take advantage and promote reuse of Phenoscapeâ€™s online evolutionary data resources and services". Altogether [28 researchers](https://github.com/phenoscape/KB-DataFest-2017/wiki/Participants) participated in this Hackathon. This group included both domain experts (meaning organismal biologists or taxonomists in this particular workshop) and programmers.

The Hackathon was a great success and also a good experience for Guanyang and Gaurav. Among the many factors that contributed to its success, we will describe just a few things that were especially impressive and inspiring. We liked the [Open Space Technology](https://en.wikipedia.org/wiki/Open_Space_Technology) approach used at the workshop. This happened at the beginning of Hackathon, where participants stood up and gave a three-minute pitch to the audience about a topic that they would like to pursue. Audidence was asked to ask questions that will promote better understanding of the proposal, but not challenge the validity of it. More than 10 pitches were given and written down on easel pad stickers (like [this](https://www.walmart.com/ip/Post-it-Super-Sticky-Self-Stick-Tabletop-Easel-Pad-20-x-23-White-20-Sheets-Pad/15074488)), which were pasted on walls all around the meeting room. Participants then gathered around the topic that interested them and discussed with the pictch-maker or the leader of the proposed project. I (Guanyang) was interested the [PhyloPheno] (https://github.com/phenoscape/PhyloPheno) pitch (see details below) and Gaurav {insert XXX}. 

<a href="url"><img src="https://github.com/phyloref/phyloref.github.io/blob/master/images/blog.pheno.pitch.jpg" alt="Phenoscape Hackathon listening to a group pitch" align="left" height="288" width="384" ></a>

The second aspect of the Hackathon that was really important and enjoyable was the opportunity to interact with other researchers, both during working hours and informal, social events (coffee breaks or dinning time). I was able to chat with most of the participants and also talked about our phyloreferencing project with several. It was interesting, and in some way, stimulating, to get different reactions about this project or more generally about taxonomy from other participants. While most lamented on the instability of names, some also remarked that taxonomic names really aren't something they want to be bothered with. The latter sentiment represents perhaps quite a good number of biologists, who may see taxonomy or nomenclature as non-science (See [Dubois 2005, p. 367](https://www.google.com/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&uact=8&ved=0ahUKEwiv_rzSsqPYAhUQ3mMKHfjWBKsQFggoMAA&url=http%3A%2F%2Fsciencepress.mnhn.fr%2Fsites%2Fdefault%2Ffiles%2Farticles%2Fpdf%2Fz2005n2a8.pdf&usg=AOvVaw0gLpRY92Qjh2uvLkbwc2NYkjgzz)). Besides getting different viewpoints of taxonomy, I also learned some neat techniques during the workshop, such as making reproducible graphics with Ruby ([an example](https://github.com/phenoscape/fishtank/blob/master/doc/viz.png) by [Matt Yoder](http://wwx.inhs.illinois.edu/directory/show/mjyoder) (Illinois Natural History Survey)) and using [Shiny](https://shiny.rstudio.com/) to run an R script interactively in a web interface. Besides, Matt Yoder demonstrated the nomenclature model of [Taxonworks](http://taxonworks.org/), which is an all-in-one biodiversity/taxonomic data management system. I was particularly impressed with the elegant and user-friendly web interface. Further details about the nomenclature ontology in Taxonworks can be found in the [abstract](https://biss.pensoft.net/article/20284/) and [slides](https://github.com/SpeciesFileGroup/nomen/blob/master/docs/presentations/Ballroom_A_Tuesday_1445_Yoder_TDWG17.pptx) of a talk given by Matt at [TDWG 2017](https://tdwg.github.io/conferences/2017/).

The third thing that really struck me is how an intially coarse idea could be quickly developed into an actual project and in some teams even transformed into a substantial product such as the [Phenomap demo R package](https://github.com/phenoscape/KB-DataFest-2017-linking-data/tree/master/phenomap). My own team experienced the same process and we were able to generate some interesting data by the end of the workshop (see below). This was the second hands-on workshop, but the first Hackathon, that I attended, so it was still a relatively new experience to me and I had little to anticipate. Seeing how people with different backgrounds and who were meeting for the first time working the same project and delivering a product within four days was simply an amazing and delightful experience for me. Gaurav {insert XXX. If you wish, please describe maybe one or two other apsects of the hackathon that you liked.}

Guanyang joined the PhyloPheno(https://github.com/phenoscape/PhyloPheno) team, led by [Emily McTavish](https://mctavishlab.github.io/), with Pasan Fernando (University of South Dakota) and [Marjan Sadeghi](https://www.sc.fsu.edu/people?uid=ms16ac)	(Florida State University) as co-members. Pasan, a doctoral student, works with [Paula Mabee](http://bio.slu.edu/mayden/cypriniformes/people/mabee.html), a fish biologist and an outgoing NSF officer, on a project to use ontology-enabled matrix contruction and character evolution analyses. Marjan is also a PhD student and her interest is in neural networks, but also branches out to phylogenetics. Our PhyloPheno project was trying to match the [Vertebrate Taxonomy Ontology (VTO)](https://bioportal.bioontology.org/ontologies/VTO) ([Midford et al., 2013](https://jbiomedsem.biomedcentral.com/articles/10.1186/2041-1480-4-34)) with the [Open Tree Taxonomy (OTT)](https://tree.opentreeoflife.org/about/taxonomy-version/ott3.0) ([Rees & Cranston, 2017](https://bdj.pensoft.net/article/12581)). The VTO is used in the Phenoscape Knowledge database as its underlying taxonomy. It contains more than 100,000 taxonomic names compiled from multiple sources. Similarly, the OTT also draws from several sources, including [NCBI](https://www.ncbi.nlm.nih.gov/taxonomy), [GBIF](https://www.gbif.org/), and [WoRMS](http://www.marinespecies.org/aphia.php). We will call each a synthetic taxonomy to differentiate them from their source taxonomies. It was not clear to us how the OTT and VTO synthetic taxonomies match to one another, and this question motivated our team's project. The source taxonomies of OTT and VTO overlap, but not completely. And they were compiled at different time points and had been updated variably, the OTT a little after the VTO, which means that even the same source might appear differently in the two synthetic taxonomies. In addition, the OTT uses a priority-based method to rank different sources to deal with taxonomic conflicts (note: not to be confused with the [principal of priority](https://en.wikipedia.org/wiki/Principle_of_Priority) used in nomenclature codes), which the VTO does not do. This could be another source of discrepancy.

The PhyloPheno project team took a two-tiered approach to investigte the taxonomy-matching problem. We mapped names in OTT against those in VTO. The mapping could also be done in the other direction, which was not carried out during the Hackathon due to time constraint. We mapped 106,884 OTT IDs (identifiers) classified as Chordata against those under the same taxon in VTO. An OTT ID refers essentially a collection of a valid species name and all of its synonyms. For example, [*Scleropages formosus*](https://tree.opentreeoflife.org/taxonomy/browse?id=335717) has four synonyms in OTT and together the five names have the same OTT ID 335722. We were able to match 91.5% of these IDs and the remaining 8.5% could not be matched. When I say match, I really mean three kinds of matches: (1) an OTT ID and a VTO ID are linked to the same NCBC ID, (2) the valid name of an OTT ID matches to a VTO name exact (i.e., the two text strings are identical), and (3) a VTO name is identical to a OTT synonym. The relatively high matching rate suggests that the two synthetic taxonomies are largely consistent, and this may be expected as the underlying source taxonomies are overlapping. 

<a href="url"><img src="https://github.com/phyloref/phyloref.github.io/blob/master/images/blog.OTT.VTO.match.png" alt="An example showing inconsistent taxonomies in OTT and OTT" align="right" height="325" width="384" ></a>

We also found 1822 OTT IDs that matched to two more more VTO IDs. For example,  [*Scleropages formosus*] matched to four VTO IDs: 	
([*Scleropages formosus* (VTO_0033907)](http://bioportal.bioontology.org/ontologies/VTO/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FVTO_0033907), [*Scleropages aureus* (VTO_0066601)](http://bioportal.bioontology.org/ontologies/VTO/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FVTO_0066601), [*Scleropages legendrei* (VTO_0066599)](http://bioportal.bioontology.org/ontologies/VTO/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FVTO_0066599), and [*Scleropages macrocephalus* (VTO_0066600)](http://bioportal.bioontology.org/ontologies/VTO/?p=classes&conceptid=http%3A%2F%2Fpurl.obolibrary.org%2Fobo%2FVTO_0066600). These three names are each considered a valid name in VTO, but all as synonyms of [*Scleropages formosus*] in OTT. 

I looked up these names in the online ["Catalogue of Fishes" (COF)](http://researcharchive.calacademy.org/research/ichthyology/catalog/fishcatmain.asp) (which, unfortunately, is not open access nor could the data be batch-dowloaded in any way), and learned that the last three names are currently listed as synonyms of *Scleropages formosus*. This means that the OTT taxonomy is consistent with COF, but VTO is not. Trying to understand how this inconsistency arose, I did some further detective work, but could not come to a definite answer. The synonymy was made by Kottelat & Widjanarti (2005) and should have been reflected in COF long before the VTO project. Because VTO sources its data from COF, these are supposed to appear as synonyms of *Scleropages formosus*. A plausible hypothesis is that because these these synonyms are labeled ["questionable"](http://www.fishbase.se/Nomenclature/SynonymsList.php?ID=6357&SynCode=26068&GenusName=Scleropages&SpeciesName=formosus) in COF, for some reason VTO treats these questionable synonyms as valid names. 

To better understand patterns of mapping between the two synthetic taxonomies, we performed another small study to focus just on catfishes (Siluriformes). There are 4763 OTT IDs classified under Siluriformes, of which, 1426 (29.9%) did not match to any VTO IDs, 3265 (68.5%) matched to precisely one VTO ID, and 72 (1.6%) matched to two more more VTO IDs. At the time of Hackathon, I did not notice that the proportion (29.9%) of unmatched OTT IDs in catfishes is much greater than that (8.5%) in all Chordata. I downloaded a [synthetic catfish phylogeny](https://tree.opentreeoflife.org/opentree/default/download_subtree/ottol-id/701516/Siluriformes) from OpenTree and visualized the distributions of OTT-VTO taxon matches on the phylogeny. This allowed to examine for clades that may show an over-abundance of unmatched or multiple-matched IDs. 

<a href="url"><img src="https://github.com/phyloref/phyloref.github.io/blob/master/images/blog.pheno.taxon.match.tree.png" alt="Taxon matches between OTT and VTO visualized on a catfish synthetic OpenTree phylogeny" align="right" height="325" width="384" ></a>


The million-dollar question that quie a few other Hackathon participants, and, we believe, all users of biodiversity data, have been asking is how we integrate biodiversity data when taxonomic names are the primary references or identifiers of the data. Phenoscape Knowledgebase contains trait (phenotypic) data of different organisms. The OpenTree provides phylogenetic tree data (either as synthetic tree or original source tree). GBIF, idigbio or other specimen-based databases contain specimen-level data (locality, collection event, repository, etc) comparative analyses require phylogenetic trees. These data are invariably anchored to taxonomic names. Queries,  are done by using taxonomic names. The Phenomap project team was trying to integrate phylogenies downloaded from OpenTree, trait data from Phenoscape and specimen (locality) data from idigbio, which required the reconciliation of three synthetic taxonomies. This kind of integration of heterogenous data from different sources is quite commonplace in the literature, and the main approach to reconcile taxonomies has been matching taxonomic names as text strings and synonymic relations. The problems of using names to integrate data are been well-known and extensively discussed. Allowing more seamless data integration is one of the objectives of our phyloreferencing project. 

Gaurav {insert writing on json project. XXX}

